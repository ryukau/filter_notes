<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja" >

<head>
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<meta name="dcterms.date" content="2024-06-25" />
<title>plot_gallery_pitch_estimation</title>

<!-- MathJax -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
window.MathJax = {
  tex: {
    tags: 'ams'
  }
};
</script>

<style>

</style>
<style>
body {
max-width: 704px;
margin: auto;
padding: 32px 8px;
}

img {
max-width: 100%;
}

video {
max-width: 100%;
}

kbd {
font-family: inherit;
border-style: solid;
border-width: 1px 2px 2px 1px;
border-radius: 2px;
padding: 4px;
margin: 2px;
line-height: calc(1em + 16px);
}

a {
text-decoration: none;
}

.header-anchor {
color: #000000;
}

.header-anchor:hover {
color: #0000EE;
}

.header-anchor:hover::after {
display: inline-block;
font-size: min(1em, 1rem);
content: '(クリックでここへリンク)';
padding-left: 1em;
color: #0000EE;
}

h2 {
border-left: solid 32px #000000;
padding-left: 24px;
}

h3 {
border-left: solid 20px #404040;
padding-left: 16px;
}

h4 {
font-size: 100%;
border-left: solid 12px #606060;
padding-left: 8px;
}

h5 {
font-size: 90%;
border-left: solid 4px #808080;
padding-left: 4px;
}

h6 {
font-size: 80%;
border-left: solid 2px #a0a0a0;
padding-left: 2px;
}

table {
border-spacing: 0px;
border-collapse: separate;
border-left: 1px solid #888888;
border-right: 1px solid #888888;
border-top: 1px solid #888888;
border-bottom: hidden;
}

tr:nth-child(odd) {
background: #eeeeee;
}

tr:nth-child(even) {
background: #ffffff;
}

th {
height: 2em;
padding: 4px 1em 4px 1em;
background: #ffffff;
border-bottom: 1px solid #888888;
}

th:not(:first-child) {
border-left: 1px solid #888888;
}

td {
height: 1.5em;
padding: 4px 1em 4px 1em;
border-bottom: 1px solid #888888;
}

td:not(:first-child) {
border-left: 1px solid #888888;
}

dl {
padding-left: 2em;
}

dt {
font-weight: bold;
border-bottom: 1px dashed #000000;
margin-top: 2em;
}

dd {
border-left: 1px dotted #000000;
margin-left: 1em;
padding-left: 1em;
}

audio {
vertical-align: middle;
}

label {
vertical-align: middle;
}

:not(.sourceCode)>pre {
overflow: auto;
border: 1px solid #888888;
padding: 8px;
}

div.sourceCode {
overflow: auto;
border: 1px solid #888888;
padding: 8px;
}

pre>code.sourceCode>span>a:first-child::before {
border-right: 1px solid #888888;
padding-right: 1em;
margin-right: 1em;
text-decoration: none;
}

:not(pre)>code {
color: #163eac;
}

li {
margin: 8px;
}

summary:hover {
background-color: #eeeeee;
}

header {
border-bottom: 1px gray solid;
padding: 0.5em;
margin-bottom: 1em;
}

footer {
border-top: 1px gray solid;
padding: 0.5em;
margin-top: 1em;
}


canvas {
/* image-rendering: pixelated; */
display: inline-block;
border-style: solid;
border-width: 1px;
border-color: #627f84;
}

.controlBlock {
display: inline-block;
width: 450px;
text-align: left;
vertical-align: top;
margin-left: 4px;
}

input[type="button"] {
background-color: #ffffff;
border: 2px solid #aaaaaa;
font-size: 16px;
height: 32px;
}

input[type="button"]:hover {
background-color: #ffffff;
border: 2px solid #aaccff;
}

div.numberInput {
display: block;
white-space: nowrap;
}

div.numberInput:hover {
background-color: #e0ecff;
}

.numberInputLabel {
/* max 12 letter  */
display: inline-block;
margin: 0 8px 0 8px;
text-align: left;
vertical-align: middle;
width: 100px;

font-size: 10pt;
font-family: 'Courier New', Courier, monospace;
}

.numberInputNumber {
display: inline-block;
vertical-align: middle;
width: 120px;
}

.numberInputRange {
display: inline-block;
vertical-align: middle;
width: 160px;
}

.pullDownMenu {
display: inline-block;
text-align: center;
}

.pullDownMenu:hover {
background-color: #e0ecff;
}

select {
background-color: #ffffff;
border: 2px solid #aaaaaa;
height: 24px;
vertical-align: middle;
font-size: 12px;
}

select:hover {
background-color: #ffffff;
border: 2px solid #aaccff;
}

span.math.inline a {
  color: #000000;
}
</style>

<script
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
type="text/javascript"></script>
</head>

<body>
<header>
<p>
何かあれば <a href="https://github.com/ryukau/filter_notes">GitHub のリポジトリ</a>に issue を作るか ryukau@gmail.com までお気軽にどうぞ。
</p>
<hr>
<a href="../index.html">インデックスに戻る</a>
<p>
Update: 2024-06-25
</p>
<details>
<summary translate="yes">Table of Contents</summary>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#ピッチ推定のプロットギャラリー"
id="toc-ピッチ推定のプロットギャラリー">ピッチ推定のプロットギャラリー</a>
<ul>
<li><a href="#サイン波" id="toc-サイン波">サイン波</a></li>
<li><a href="#ノイズを加えたサイン波"
id="toc-ノイズを加えたサイン波">ノイズを加えたサイン波</a>
<ul>
<li><a href="#手法ごとの誤差"
id="toc-手法ごとの誤差">手法ごとの誤差</a></li>
</ul></li>
<li><a href="#am変調" id="toc-am変調">AM変調</a>
<ul>
<li><a href="#手法ごとの誤差-1"
id="toc-手法ごとの誤差-1">手法ごとの誤差</a></li>
</ul></li>
<li><a href="#fm変調" id="toc-fm変調">FM変調</a>
<ul>
<li><a href="#手法ごとの誤差-2"
id="toc-手法ごとの誤差-2">手法ごとの誤差</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
</details>
</header>
<h1 id="ピッチ推定のプロットギャラリー"><a
href="#ピッチ推定のプロットギャラリー" class="header-anchor"
aria-hidden="true">ピッチ推定のプロットギャラリー</a></h1>
<h2 id="サイン波"><a href="#サイン波" class="header-anchor"
aria-hidden="true">サイン波</a></h2>
<p>サイン波の周波数ごとの平均絶対誤差です。この形式のグラフの縦軸は対数スケールにしています。</p>
<figure>
<img src="img/error_per_frequency_sin_wave.png" alt="Image of plot of mean absolute error for each sine wave signal." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<p>誤差が最大となった YIN-CMND type I
は低周波域で大きな誤差が出ています。</p>
<p>6000Hzより上の誤差を除外した場合が気になったのでプロットしました。</p>
<figure>
<img src="img/error_sin_wave_under_6000hz.png" alt="Image of plot of mean absolute error to sine wave signal under 6000Hz." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<p>MPM-CMND type II
の誤差が最小となりました。サンプリング周波数の3/4よりも高い周波数ではピッチ推定が失敗しやすいのかもしれません。</p>
<h2 id="ノイズを加えたサイン波"><a href="#ノイズを加えたサイン波"
class="header-anchor" aria-hidden="true">ノイズを加えたサイン波</a></h2>
<p>サイン波の周波数ごとの平均絶対誤差です。</p>
<figure>
<img src="img/error_per_frequency_sin_with_noise.png" alt="Image of plot of mean absolute error for each frequency of sin with noise signal." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<p>ノイズの比率ごとの平均絶対誤差です。</p>
<figure>
<img src="img/error_per_noise_ratio_sin_with_noise.png" alt="Image of plot of mean absolute error for each noise_ratio of sin with noise signal." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<h3 id="手法ごとの誤差"><a href="#手法ごとの誤差" class="header-anchor"
aria-hidden="true">手法ごとの誤差</a></h3>
<p>明るいほど誤差が大きく、白い部分は <code>nan</code>
を表しています。グラフの右にあるカラーバーの数字を <span
class="math inline">\(a\)</span> とすると誤差の値は <span
class="math inline">\(10^a\)</span> です。</p>
<p>NSD
は信号の大きさ1に対してノイズの大きさが3を超えるとうまく計算できないようです。</p>
<figure>
<img src="img/error_sin_with_noise_yin_cmnd_type1.png" alt="Image of plot of mean absolute error to sin with noise signal. Method is yin_cmnd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_with_noise_yin_cmnd_type2.png" alt="Image of plot of mean absolute error to sin with noise signal. Method is yin_cmnd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_with_noise_yin_nsd_type1.png" alt="Image of plot of mean absolute error to sin with noise signal. Method is yin_nsd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_with_noise_yin_nsd_type2.png" alt="Image of plot of mean absolute error to sin with noise signal. Method is yin_nsd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_with_noise_mpm_cmnd_type1.png" alt="Image of plot of mean absolute error to sin with noise signal. Method is mpm_cmnd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_with_noise_mpm_cmnd_type2.png" alt="Image of plot of mean absolute error to sin with noise signal. Method is mpm_cmnd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_with_noise_mpm_nsd_type1.png" alt="Image of plot of mean absolute error to sin with noise signal. Method is mpm_nsd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_with_noise_mpm_nsd_type2.png" alt="Image of plot of mean absolute error to sin with noise signal. Method is mpm_nsd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<h2 id="am変調"><a href="#am変調" class="header-anchor"
aria-hidden="true">AM変調</a></h2>
<p>キャリアの周波数ごとの平均絶対誤差です。</p>
<figure>
<img src="img/error_per_carrier_frequency_sin_am.png" alt="Image of plot of mean absolute error for each carrier frequency of sin AM signal." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<p>モジュレータの周波数ごとの平均絶対誤差です。</p>
<figure>
<img src="img/error_per_modulator_frequency_sin_am.png" alt="Image of plot of mean absolute error for each modulator frequency of sin AM signal." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<h3 id="手法ごとの誤差-1"><a href="#手法ごとの誤差-1"
class="header-anchor" aria-hidden="true">手法ごとの誤差</a></h3>
<p>明るいほど誤差が大きく、白い部分は <code>nan</code>
を表しています。グラフの右にあるカラーバーの数字を <span
class="math inline">\(a\)</span> とすると誤差の値は <span
class="math inline">\(10^a\)</span> です。</p>
<figure>
<img src="img/error_sin_am_yin_cmnd_type1.png" alt="Image of plot of mean absolute error to sin AM signal. Method is yin_cmnd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_am_yin_cmnd_type2.png" alt="Image of plot of mean absolute error to sin AM signal. Method is yin_cmnd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_am_yin_nsd_type1.png" alt="Image of plot of mean absolute error to sin AM signal. Method is yin_nsd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_am_yin_nsd_type2.png" alt="Image of plot of mean absolute error to sin AM signal. Method is yin_nsd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_am_mpm_cmnd_type1.png" alt="Image of plot of mean absolute error to sin AM signal. Method is mpm_cmnd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_am_mpm_cmnd_type2.png" alt="Image of plot of mean absolute error to sin AM signal. Method is mpm_cmnd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_am_mpm_nsd_type1.png" alt="Image of plot of mean absolute error to sin AM signal. Method is mpm_nsd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_am_mpm_nsd_type2.png" alt="Image of plot of mean absolute error to sin AM signal. Method is mpm_nsd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<h2 id="fm変調"><a href="#fm変調" class="header-anchor"
aria-hidden="true">FM変調</a></h2>
<p>キャリアの周波数ごとの平均絶対誤差です。</p>
<figure>
<img src="img/error_per_carrier_frequency_sin_fm.png" alt="Image of plot of mean absolute error for each carrier frequency of sin FM signal." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<p>モジュレータの周波数ごとの平均絶対誤差です。</p>
<figure>
<img src="img/error_per_modulator_frequency_sin_fm.png" alt="Image of plot of mean absolute error for each modulator frequency of sin FM signal." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<h3 id="手法ごとの誤差-2"><a href="#手法ごとの誤差-2"
class="header-anchor" aria-hidden="true">手法ごとの誤差</a></h3>
<p>明るいほど誤差が大きく、白い部分は <code>nan</code>
を表しています。グラフの右にあるカラーバーの数字を <span
class="math inline">\(a\)</span> とすると誤差の値は <span
class="math inline">\(10^a\)</span> です。</p>
<figure>
<img src="img/error_sin_fm_yin_cmnd_type1.png" alt="Image of plot of mean absolute error to sin FM signal. Method is yin_cmnd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_fm_yin_cmnd_type2.png" alt="Image of plot of mean absolute error to sin FM signal. Method is yin_cmnd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_fm_yin_nsd_type1.png" alt="Image of plot of mean absolute error to sin FM signal. Method is yin_nsd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_fm_yin_nsd_type2.png" alt="Image of plot of mean absolute error to sin FM signal. Method is yin_nsd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_fm_mpm_cmnd_type1.png" alt="Image of plot of mean absolute error to sin FM signal. Method is mpm_cmnd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_fm_mpm_cmnd_type2.png" alt="Image of plot of mean absolute error to sin FM signal. Method is mpm_cmnd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_fm_mpm_nsd_type1.png" alt="Image of plot of mean absolute error to sin FM signal. Method is mpm_nsd_type1." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<figure>
<img src="img/error_sin_fm_mpm_nsd_type2.png" alt="Image of plot of mean absolute error to sin FM signal. Method is mpm_nsd_type2." style="width: 640px;padding-bottom: 12px;"/>
</figure>
<footer>
<a href="../index.html">インデックスに戻る</a>
</footer>
</body>

</html>
